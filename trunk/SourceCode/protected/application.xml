<?xml version="1.0" encoding="utf-8"?>
<application id="TOG" mode="Debug">
	<!-- alias definitions and namespace usings
	<paths>
		<alias id="myalias" path="./lib" />
		<using namespace="Application.common.*" />
	</paths>
	-->
	<paths>
		<!--alias id="CSitemap" path="common/CSitemap"/--> 
		<using namespace="System.I18N.*"/>
		<using namespace="System.Data.*"/>
		<using namespace="System.Data.ActiveRecord.*"/>
		<using namespace="System.Security.*" />
		<using namespace="System.Web.UI.ActiveControls.*"/>
		<using namespace="System.Web.TUrlMapping.*"/>
		<using namespace="Application.data.*"/>
		<using namespace="Application.common.*"/>
		<!--using namespace="CSitemap.*"/-->
	</paths>


	<!-- configurations for modules -->
	<modules>
		<!-- Remove this comment mark to enable caching
		<module id="cache" class="System.Caching.TDbCache" />
		-->
	
		<!-- Remove this comment mark to enable PATH url format
		<module id="request" class="THttpRequest" UrlFormat="Path" />
		-->
	
		<!-- Remove this comment mark to enable logging
		<module id="log" class="System.Util.TLogRouter">
		  <route class="TBrowserLogRoute" Categories="System" />
		</module>
		-->
		<module id="db" class="System.Data.TDataSourceConfig">
			<database ConnectionString="mysql:host=localhost;dbname=tog_db" username="root" password=""/>
		</module>
		<module class="System.Data.ActiveRecord.TActiveRecordConfig" ConnectionID="db"/>
		<module class="System.Web.THttpSession" Timeout="7200" />
		<module id="mailer" class="System.Util.TEmailer" Type="Mail" EmailTemplateDirectory="Application.template">
			<sender Field="Sender" Address="noreply@asiablaze.com" Name="AsiaBlaze" />
		</module>
		<module id="adminmenu" class="Application.common.PMenuManager" MenuFile="Application.pages.admincp.menu"/>
		<!--module id="sitemap" class="CSitemap.CSitemapManager" SitemapFile="Application.sitemap"/-->
		<module id="request" class="THttpRequest" UrlManager="friendly-url"/>
		<module id="friendly-url" class="System.Web.TUrlMapping" EnableCustomUrl="true" UrlPrefix="/TOG">
			
			<url ServiceParameter="shop.Index" pattern="shop"/>
			
			<url ServiceParameter="admincp.Index" pattern="admincp"/>
			<url ServiceParameter="admincp.Index" pattern="admincp/index"/>
			<url ServiceParameter="admincp.ProductManager" pattern="admincp/product"/>
			<url ServiceParameter="admincp.ProductManager" pattern="admincp/product/manager"/>
			<url ServiceParameter="admincp.ProductForm" pattern="admincp/product/{id}/{alias}" parameters.id="\d+" parameters.alias=".*"/>
			<url ServiceParameter="admincp.ProductForm" pattern="admincp/product/create-new"/>
			<url ServiceParameter="admincp.BrandManager" pattern="admincp/brand"/>
			<url ServiceParameter="admincp.BrandManager" pattern="admincp/brand/manager"/>
			<url ServiceParameter="admincp.BrandForm" pattern="admincp/brand/{id}/{alias}" parameters.id="\d+" parameters.alias=".*"/>
			<url ServiceParameter="admincp.BrandForm" pattern="admincp/brand/create-new"/>
			<url ServiceParameter="admincp.ManufacturerManager" pattern="admincp/manufacturer"/>
			<url ServiceParameter="admincp.ManufacturerManager" pattern="admincp/manufacturer/manager"/>
			<url ServiceParameter="admincp.ManufacturerForm" pattern="admincp/manufacturer/{id}/{alias}" parameters.id="\d+" parameters.alias=".*"/>
			<url ServiceParameter="admincp.ManufacturerForm" pattern="admincp/manufacturer/create-new"/>
		</module>
		<!-- error module -->
		<module id="message" class="System.Util.TMessageTranslator" MessageFile="Application.template.messages" />
	</modules>

	<!-- configuration for available services -->
	<services>
		<service id="page" class="TPageService" BasePath="Application.pages" DefaultPage="Index">
			<pages StatePersisterClass="System.Web.UI.TSessionPageStatePersister" Theme="default"/>
		</service>
	</services>

	<!-- application parameters
	<parameters>
		<parameter id="param1" value="value1" />
		<parameter id="param2" value="value2" />
	</parameters>
	-->
	<parameters>
		<parameter id="ROW_PER_PAGE" value="10" />
	</parameters>
</application>